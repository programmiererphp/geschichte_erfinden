
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>Story Invent – v2 MVP</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="manifest" href="manifest.webmanifest">
</head>
<body>

  <!-- ───── Toolbar ───── -->
  <header id="toolbar">
    <button id="btnStart">Start</button>
    <button id="btnRestart" disabled>Restart</button>
    <button id="btnStop" disabled>Stop</button>
    <button id="btnSettings">Settings</button>
    <button id="btnLog">Log</button>
  </header>

  <!-- ───── StatusBar ───── -->
  <section id="statusBar">
    <span id="sttStatus">STT: off</span> |
    <span id="ttsStatus">TTS: off</span> |
    <span id="modelStatus">Model: —</span> |
    <span id="tokenMeter"></span>
  </section>

  <!-- ───── Main Layout ───── -->
  <main id="layout">
    <!-- Left column -->
    <div id="inputColumn">
      <h3 data-i18n="lblLastInput">Последний вклад</h3>
      <textarea id="lastInput" rows="4" placeholder="Пишите или запишите голосом…"></textarea>
      <button id="sendInput">➤</button>

      <h3 data-i18n="lblComment">Комментарий</h3>
      <div id="commentBox" class="scroll"></div>
    </div>

    <!-- Right column -->
    <div id="storyColumn">
      <h3 data-i18n="lblStory">Текущая история</h3>
      <div id="storyView" class="scroll"></div>
    </div>
  </main>

  <!-- ───── Prompt & Options ───── -->
  <section id="promptSection">
    <h3 data-i18n="lblPrompt">Вопрос</h3>
    <p id="promptText"></p>
    <div id="optionList"></div>
    <textarea id="freeAnswer" rows="3" placeholder="Опиши свой вариант…"></textarea>
  </section>

  <!-- ───── Settings Modal ───── -->
  <dialog id="settingsModal">
    <h2>Settings</h2>

    <label>Language
      <select id="uiLang">
        <option value="ru">Русский</option>
        <option value="en">English</option>
        <option value="de">Deutsch</option>
      </select>
    </label>

    <label>Scenario
      <select id="scenarioSel"></select>
    </label>

    <label>OpenRouter API-Key
      <input id="apiKey" type="password" placeholder="sk-…" autocomplete="off">
    </label>

    <label>Story Mode
      <select id="storyMode">
        <option value="text">Text</option>
        <option value="graphic">Graphic Novel</option>
      </select>
    </label>

    <button id="saveSettings">OK</button>
    <button id="closeSettings">Cancel</button>
  </dialog>

  <script type="module" src="js/app.js"></script>
</body>
</html>
